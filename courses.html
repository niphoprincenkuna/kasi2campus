<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kasi2Campus — High Demand Courses</title>
  <style>
    :root{
      --brand:#003366;
      --accent:#0078d4;
      --bg:#f4f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --text:#0b1720;
      --radius:12px;
      --max-width:1100px;
      --shadow:0 6px 18px rgba(2,6,23,0.06);
      --overlay: rgba(2,6,23,0.6);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    /* Header and navigation */
    .site-header {
      background: #003366;
      color: #fff;
      padding: 10px 18px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.06);
      position: sticky;
      top: 0;
      z-index: 800;
    }
    .header-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .brand {
      display:flex;
      align-items:center;
      gap:12px;
    }
    .brand img { height:44px; display:block; }
    .brand strong { font-size:18px; letter-spacing:0.2px; }

    nav.primary {
      display:flex;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
    }
    nav.primary a {
      color: #fff;
      text-decoration: none;
      padding:8px 10px;
      border-radius:8px;
      font-weight:600;
      font-size:14px;
    }
    nav.primary a.active, nav.primary a[aria-current="page"] {
      background: rgba(255,255,255,0.08);
      text-decoration:underline;
    }
    nav.primary a:hover { background: rgba(255,255,255,0.06); }

    .wrap{max-width:var(--max-width);margin:20px auto;padding:20px}

    header.page-head{display:flex;align-items:center;justify-content:space-between;gap:18px;margin-bottom:18px}
    header.page-head h1{margin:0;color:var(--brand);font-size:26px}
    .lead{color:var(--muted);margin:8px 0 20px;max-width:760px}

    .btn{display:inline-block;background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,0.08);cursor:pointer;border:none}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media(max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:640px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;transition:transform .12s ease,box-shadow .12s ease}
    .card:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(2,6,23,0.08)}
    .tag{display:inline-block;background:linear-gradient(90deg,var(--brand),var(--accent));color:#fff;padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px}
    .course-title{font-size:18px;margin:0;color:#07203a}
    .meta{display:flex;gap:12px;align-items:center;color:var(--muted);font-size:14px;flex-wrap:wrap}
    .aps{font-weight:800;color:#0b6b3a}
    .desc{color:var(--muted);line-height:1.4;font-size:14px}
    .cta{margin-top:auto;display:flex;gap:10px;align-items:center}

    .course-section{margin-top:28px}
    .course-section h2{color:var(--brand);margin:0 0 8px 0;font-size:22px}
    .table-card{background:var(--card);border-radius:12px;padding:14px;box-shadow:var(--shadow);overflow:auto}

    .note{font-size:13px;color:var(--muted);margin-top:10px}

    footer{margin-top:30px;padding:18px 0;color:#444;text-align:center}

    /* Modal */
    .modal-overlay{position:fixed;inset:0;background:var(--overlay);display:none;align-items:center;justify-content:center;padding:20px;z-index:1200}
    .modal{background:var(--card);width:100%;max-width:900px;border-radius:12px;box-shadow:0 12px 40px rgba(2,6,23,0.5);overflow:hidden;transform:translateY(12px);opacity:0;transition:opacity .18s ease,transform .18s ease}
    .modal.open{transform:translateY(0);opacity:1}
    .modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid #eef2f6}
    .modal-header h3{margin:0;font-size:18px;color:var(--brand)}
    .modal-body{padding:16px 18px;max-height:60vh;overflow:auto}
    .modal-footer{padding:12px 18px;border-top:1px solid #eef2f6;text-align:right}
    .close-btn{background:#f1f5f9;border:none;padding:8px 10px;border-radius:8px;cursor:pointer;color:var(--brand);font-weight:700}

    .univ-table{width:100%;border-collapse:collapse;font-size:15px}
    .univ-table thead th{background:#f7f9fb;padding:10px 12px;text-align:left;color:var(--brand);font-weight:700;border-bottom:1px solid #eee;position:sticky;top:0}
    .univ-table tbody td{padding:10px 12px;border-bottom:1px solid #f1f3f5;color:var(--text)}
    .univ-table tbody tr:last-child td{border-bottom:none}

    @media(max-width:640px){
      .modal{max-width:100%;border-radius:10px}
      .modal-body{max-height:70vh}
    }

    a:focus, button:focus {outline:3px solid rgba(0,120,212,0.18);outline-offset:2px;border-radius:6px}
  </style>
</head>
<body>
  <!-- Site header with navigation -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <div class="brand">
        <img src="images/logo.png" alt="Kasi2Campus logo" />
        <strong>Kasi2Campus</strong>
      </div>

      <nav class="primary" role="navigation" aria-label="Main navigation">
        <a href="index.html">Home</a>
        <a href="institutions.html">Institutions</a>
        <a href="courses.html" aria-current="page" class="active">Courses</a>
        <a href="apply.html">Apply</a>
        <a href="payments.html">Payments</a>
        <a href="calculator.html">APS & Avg Calculator</a>
        <a href="contact.html">Contact</a>
        <a href="about.html">About</a>
      </nav>
    </div>
  </header>

  <div class="wrap">
    <header class="page-head">
      <div>
        <h1>High Demand Courses</h1>
        <p class="lead">Click See universities to open a focused list in a popup. APS values are guidance — verify on official university pages.</p>
      </div>
      <div>
        <a class="btn" href="institutions.html">Browse all institutions</a>
      </div>
    </header>

    <section class="grid" aria-label="Course highlights">
      <article class="card">
        <span class="tag">Health</span>
        <h3 class="course-title">Nursing</h3>
        <div class="meta"><div class="aps">Guidance 28–34</div><div>Prereqs: Life Sciences, English</div></div>
        <p class="desc">High demand across public and private healthcare providers.</p>
        <div class="cta">
          <button class="btn open-modal" data-course="nursing">See universities</button>
        </div>
      </article>

      <article class="card">
        <span class="tag">Engineering</span>
        <h3 class="course-title">Engineering</h3>
        <div class="meta"><div class="aps">Guidance 30–36</div><div>Prereqs: Maths, Physical Sciences</div></div>
        <p class="desc">Infrastructure, energy and manufacturing roles.</p>
        <div class="cta">
          <button class="btn open-modal" data-course="engineering">See universities</button>
        </div>
      </article>

      <article class="card">
        <span class="tag">IT</span>
        <h3 class="course-title">Information Technology</h3>
        <div class="meta"><div class="aps">Guidance 24–32</div><div>Prereqs: Maths or Math Lit</div></div>
        <p class="desc">Software, analytics and cybersecurity roles.</p>
        <div class="cta">
          <button class="btn open-modal" data-course="it">See universities</button>
        </div>
      </article>

      <article class="card">
        <span class="tag">Education</span>
        <h3 class="course-title">Teaching</h3>
        <div class="meta"><div class="aps">Guidance 20–28</div><div>Prereqs: Language</div></div>
        <p class="desc">Foundation and intermediate phase teaching demand.</p>
        <div class="cta">
          <button class="btn open-modal" data-course="teaching">See universities</button>
        </div>
      </article>

      <article class="card">
        <span class="tag">Business</span>
        <h3 class="course-title">Commerce</h3>
        <div class="meta"><div class="aps">Guidance 24–40</div><div>Prereqs: Maths recommended</div></div>
        <p class="desc">Accounting, finance and professional pathways.</p>
        <div class="cta">
          <button class="btn open-modal" data-course="commerce">See universities</button>
        </div>
      </article>

      <article class="card">
        <span class="tag">Built Environment</span>
        <h3 class="course-title">Architecture</h3>
        <div class="meta"><div class="aps">Guidance 28–36</div><div>Prereqs: Maths; portfolio</div></div>
        <p class="desc">Competitive entry with portfolio and selection steps.</p>
        <div class="cta">
          <button class="btn open-modal" data-course="architecture">See universities</button>
        </div>
      </article>
    </section>

    <p class="note">Tip: popups keep the page uncluttered. APS guidance varies by programme and year — always confirm on official university pages.</p>

    <footer>
      <small>© <strong>Kasi2Campus</strong></small>
    </footer>
  </div>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <div class="modal-header">
        <h3 id="modalTitle">Universities</h3>
        <div>
          <button class="close-btn" id="modalClose">Close</button>
        </div>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Content injected by JS -->
      </div>
      <div class="modal-footer">
        <button class="btn" id="modalDone">Done</button>
      </div>
    </div>
  </div>

  <script>
    const courseData = {
      nursing: {
        title: "Nursing",
        subtitle: "Typical prerequisites: Life Sciences, English",
        universities: [
          { name: "University of the Western Cape (UWC)", aps: "APS guidance 30", note: "Check Faculty of Health Sciences" },
          { name: "Nelson Mandela University (NMU)", aps: "Selection thresholds vary", note: "NSC % thresholds used" },
          { name: "University of KwaZulu-Natal (UKZN)", aps: "NSC degree pass + subject minima", note: "See programme page" },
          { name: "University of Pretoria (UP)", aps: "Programme-specific guidance", note: "Faculty of Health Sciences" },
          { name: "University of the Witwatersrand (Wits)", aps: "See Wits Nursing page", note: "Competitive selection" },
          { name: "University of Cape Town (UCT)", aps: "Check UCT admissions", note: "Faculty-specific requirements" }
        ]
      },
      engineering: {
        title: "Engineering",
        subtitle: "Prereqs: Mathematics, Physical Sciences",
        universities: [
          { name: "University of Johannesburg (UJ)", aps: "Programme dependent", note: "Maths & Physical Sciences required" },
          { name: "University of Pretoria (UP)", aps: "Best-six APS calculation", note: "Faculty lists minima" },
          { name: "University of Cape Town (UCT)", aps: "Check faculty pages", note: "Competitive programmes" },
          { name: "University of the Witwatersrand (Wits)", aps: "See Wits engineering", note: "Selection criteria apply" },
          { name: "Stellenbosch University (SU)", aps: "Programme minima on faculty page", note: "Check discipline" },
          { name: "Tshwane University of Technology (TUT)", aps: "Diploma/degree ranges vary", note: "Different thresholds" }
        ]
      },
      it: {
        title: "Information Technology",
        subtitle: "Prereqs: Mathematics or Math Literacy",
        universities: [
          { name: "University of Cape Town (UCT)", aps: "Competitive; check CS pages", note: "High demand programmes" },
          { name: "University of the Witwatersrand (Wits)", aps: "See Wits CS", note: "Maths recommended" },
          { name: "University of Pretoria (UP)", aps: "Check BSc CS page", note: "Subject minima apply" },
          { name: "University of Johannesburg (UJ)", aps: "Programme pages list APS", note: "Multiple IT streams" },
          { name: "University of KwaZulu-Natal (UKZN)", aps: "Verify on UKZN site", note: "Maths often required" },
          { name: "University of South Africa (UNISA)", aps: "Diplomas may accept lower APS", note: "Distance learning options" }
        ]
      },
      teaching: {
        title: "Teaching",
        subtitle: "Phase-specific requirements and language prerequisites",
        universities: [
          { name: "University of Pretoria (UP)", aps: "See BEd programme pages", note: "Multiple streams" },
          { name: "University of the Witwatersrand (Wits)", aps: "Check School of Education", note: "PGCE and undergraduate routes" },
          { name: "University of Johannesburg (UJ)", aps: "Programme pages list APS", note: "Foundation/intermediate phases" },
          { name: "University of the Western Cape (UWC)", aps: "See education faculty", note: "Campus variations possible" },
          { name: "Rhodes University", aps: "PGCE and teaching programmes", note: "Smaller cohorts" },
          { name: "University of KwaZulu-Natal (UKZN)", aps: "Education faculty lists minima", note: "Phase-specific" }
        ]
      },
      commerce: {
        title: "Commerce",
        subtitle: "Prereqs: Mathematics recommended for accounting streams",
        universities: [
          { name: "University of Cape Town (UCT)", aps: "Competitive; check faculty", note: "Professional pathways higher" },
          { name: "University of the Witwatersrand (Wits)", aps: "Many streams competitive", note: "Accounting often requires Maths" },
          { name: "University of Pretoria (UP)", aps: "Faculty lists programme minima", note: "Check specialisations" },
          { name: "Stellenbosch University (SU)", aps: "Business School and commerce pages", note: "Competitive streams" },
          { name: "University of Johannesburg (UJ)", aps: "Programme pages list APS", note: "Multiple commerce streams" },
          { name: "University of KwaZulu-Natal (UKZN)", aps: "Check faculty pages", note: "Specialisation dependent" }
        ]
      },
      architecture: {
        title: "Architecture",
        subtitle: "Prereqs: Mathematics; portfolio and selection required",
        universities: [
          { name: "University of Pretoria (UP)", aps: "Programme-specific guidance", note: "Portfolio and selection steps" },
          { name: "University of the Witwatersrand (Wits)", aps: "Often competitive; portfolio required", note: "High APS guidance" },
          { name: "University of Cape Town (UCT)", aps: "Check architecture admissions", note: "Portfolio and selection" },
          { name: "Stellenbosch University (SU)", aps: "Programme pages list APS", note: "Portfolio required" },
          { name: "Cape Peninsula University of Technology (CPUT)", aps: "Built environment APS listed", note: "Diploma vs degree differences" },
          { name: "University of Johannesburg (UJ)", aps: "Architecture & built environment pages", note: "Selection may apply" }
        ]
      }
    };

    // Modal elements
    const overlay = document.getElementById('modalOverlay');
    const modal = overlay.querySelector('.modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalBody = document.getElementById('modalBody');
    const modalClose = document.getElementById('modalClose');
    const modalDone = document.getElementById('modalDone');

    function openModal(courseKey) {
      const data = courseData[courseKey];
      if (!data) return;
      modalTitle.textContent = data.title + " Universities";
      modalBody.innerHTML = `
        <p style="color:${getComputedStyle(document.documentElement).getPropertyValue('--muted')};margin-top:0;margin-bottom:12px">${data.subtitle}</p>
        <div class="table-card">
          <table class="univ-table" role="table" aria-label="${data.title} universities">
            <thead>
              <tr><th>University</th><th>Minimum guidance APS</th><th>Notes</th></tr>
            </thead>
            <tbody>
              ${data.universities.map(u => `
                <tr>
                  <td>${escapeHtml(u.name)}</td>
                  <td>${escapeHtml(u.aps)}</td>
                  <td>${escapeHtml(u.note)}</td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      overlay.style.display = 'flex';
      requestAnimationFrame(() => modal.classList.add('open'));
      overlay.setAttribute('aria-hidden', 'false');
      trapFocus(modal);
    }

    function closeModal() {
      modal.classList.remove('open');
      overlay.setAttribute('aria-hidden', 'true');
      setTimeout(() => { overlay.style.display = 'none'; modalBody.innerHTML = ''; }, 180);
      releaseFocus();
    }

    overlay.addEventListener('click', (e) => { if (e.target === overlay) closeModal(); });
    modalClose.addEventListener('click', closeModal);
    modalDone.addEventListener('click', closeModal);
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && overlay.style.display === 'flex') closeModal(); });

    document.querySelectorAll('.open-modal').forEach(btn => {
      btn.addEventListener('click', () => openModal(btn.getAttribute('data-course')));
    });

    let lastFocused = null;
    function trapFocus(container) {
      lastFocused = document.activeElement;
      const focusable = container.querySelectorAll('a, button, input, textarea, [tabindex]:not([tabindex="-1"])');
      if (focusable.length) focusable[0].focus();
      function handleTab(e) {
        if (e.key !== 'Tab') return;
        const nodes = Array.from(focusable);
        const first = nodes[0];
        const last = nodes[nodes.length - 1];
        if (e.shiftKey && document.activeElement === first) {
          e.preventDefault(); last.focus();
        } else if (!e.shiftKey && document.activeElement === last) {
          e.preventDefault(); first.focus();
        }
      }
      container._handleTab = handleTab;
      document.addEventListener('keydown', handleTab);
    }
    function releaseFocus() {
      document.removeEventListener('keydown', modal._handleTab);
      if (lastFocused) lastFocused.focus();
      lastFocused = null;
    }

    function escapeHtml(str) {
      return String(str)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#039;');
    }
  </script>
</body>
</html>